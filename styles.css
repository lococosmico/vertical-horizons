const translations = {
    fr: {
        about: "À propos",
        gallery: "Galerie",
        contact: "Contact",
        about_title: "À propos",
        about_text: "Bienvenue chez Vertical Horizons, votre école d'escalade en Suisse. Nous proposons des cours pour tous les âges et niveaux.",
        gallery_title: "Galerie",
        contact_title: "Contact",
        name_placeholder: "Nom",
        email_placeholder: "Adresse e-mail",
        message_placeholder: "Message",
        submit_button: "Envoyer",
        copyright: "&copy; 2025 Vertical Horizons. Tous droits réservés."
    },
    en: {
        about: "About",
        gallery: "Gallery",
        contact: "Contact",
        about_title: "About Us",
        about_text: "Welcome to Vertical Horizons, your climbing school in Switzerland. We offer courses for all ages and skill levels.",
        gallery_title: "Gallery",
        contact_title: "Contact Us",
        name_placeholder: "Name",
        email_placeholder: "Email address",
        message_placeholder: "Message",
        submit_button: "Send",
        copyright: "&copy; 2025 Vertical Horizons. All rights reserved."
    }
};

function changeLanguage(lang) {
    try {
        document.documentElement.lang = lang;
        
        // Actualizar textos normales
        document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            if (translations[lang]?.[key]) {
                el.textContent = translations[lang][key];
            }
        });
        
        // Actualizar placeholders
        document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
            const key = el.getAttribute('data-i18n-placeholder');
            if (translations[lang]?.[key]) {
                el.placeholder = translations[lang][key];
            }
        });
        
        localStorage.setItem('preferredLang', lang);
    } catch (error) {
        console.error("Error changing language:", error);
    }
}

// Inicialización
document.addEventListener('DOMContentLoaded', () => {
    const savedLang = localStorage.getItem('preferredLang') || 
                     (navigator.language.startsWith('en') ? 'en' : 'fr');
    changeLanguage(savedLang);
    document.body.classList.add('ready');
});